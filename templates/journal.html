<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Journal with Tabs</title>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/journal_page_flip.css">
</head>
<body>
  <div class="journal-wrapper">
    <div class="book-frame"></div>

    <div class="tabs" id="tabs">
      <div class="tab" data-section="hints">Hints</div>
      <div class="tab" data-section="lore">Lore</div>
      <div class="tab" data-section="notes">Notes</div>
    </div>

    <div class="page-spread">
      <div class="page left-page" id="leftPage">
        <ul id="leftContent">
          <li>The Archivist awaits.</li>
        </ul>
      </div>
      <div class="page right-page" id="rightPage">
        <ul id="rightContent">
          <li>Only fools touch the mirror.</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="button-container">
    <button class="flip-button" id="prevBtn">Previous</button>
    <button class="flip-button" id="nextBtn">Next</button>
  </div>

  <script>
    const tabs = document.querySelectorAll(".tab");
    const tabsContainer = document.getElementById("tabs");

    function updateTabs(view) {
      if (view === "hints") {
        tabsContainer.style.left = "unset";
        tabsContainer.style.right = "-3%";
        tabs.forEach(tab => {
          tab.style.display = (tab.dataset.section === "hints") ? "block" : "block";
        });
      } else if (view === "lore") {
        tabsContainer.style.right = "-3%";
        tabs.forEach(tab => {
          tab.style.display = (tab.dataset.section === "notes") ? "block" : "block";
        });
      } else if (view === "notes") {
        tabsContainer.style.right = "unset";
        tabsContainer.style.left = "-3%";
        tabs.forEach(tab => {
          tab.style.display = "block";
        });
      }
    }

    tabs.forEach(tab => {
      tab.addEventListener("click", () => {
        const section = tab.dataset.section;
        updateTabs(section);
      });
    });

    updateTabs("hints"); // default view
  </script>
</body>
</html>
